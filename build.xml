<project name="MJCompiler" basedir="." default="compile">
	
	<target name="clean">
		<delete>
			<fileset dir="./src/com/kosta/pp1">
				<exclude name="sym.java"/>
				<exclude name="utils/Log4JUtils.java"/>
			</fileset>
		</delete>
	</target>
	
	<target name="generateLexer" depends="clean">
		<java jar="lib/JFlex.jar" fork="true">
			<arg value="-d"/>
			<arg value ="./src/com/kosta/pp1"/>
			<arg value="./spec/mjlexer.lex"/>
		</java>
	</target>
	
	<target name="compile" depends="generateLexer">
		<javac srcdir="./src/com/kosta/pp1" includeantruntime="false">
			<classpath>
				<pathelement path="./lib/JFlex.jar"/>
				<pathelement path="./lib/cup_v10k.jar"/>
				<pathelement path="./lib/log4j-1.2.17.jar"/>
			</classpath>
		</javac>
	</target>

</project>